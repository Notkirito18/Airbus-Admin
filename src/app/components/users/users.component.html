<div class="container">
  <mat-card class="mat-card products-card">
    <mat-card-title class="mat-card-title">
      Guests
      <span class="mat-card-subtitle">({{ guestsToShow.length }})</span>

      <!-- search bar -->

      <span class="search-bar">
        <mat-form-field>
          <mat-label
            ><mat-icon class="search-icon">search</mat-icon>Search</mat-label
          >
          <input matInput placeholder="Supplier Name" #searchInput />
        </mat-form-field>
      </span>
      <button class="mat-flat-button" routerLink="/home/new-user/new">
        CREATE NEW GUEST
      </button>
    </mat-card-title>

    <table mat-table [dataSource]="guestsData" matSort>
      <!-- select Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <input type="checkbox" />
        </th>
        <td mat-cell *matCellDef="let element">
          <input type="checkbox" />
        </td>
      </ng-container>
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let element">
          <span class="title-td" (click)="nameClick(element.id)">{{
            element.name
          }}</span>
        </td>
      </ng-container>

      <!-- type Column -->
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
        <td mat-cell *matCellDef="let element">
          {{ element.type }}
        </td>
      </ng-container>

      <!-- Room Num Column -->
      <ng-container matColumnDef="roomNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Room Num</th>
        <td mat-cell *matCellDef="let element">
          {{ element.roomNumber }}
        </td>
      </ng-container>

      <!-- Vouchers Column -->
      <ng-container matColumnDef="vouchers">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vouchers</th>
        <td mat-cell *matCellDef="let element">
          {{ element.vouchersLis.length }}
        </td>
      </ng-container>

      <!-- valid untill Column -->
      <ng-container matColumnDef="valid untill">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Valid untill</th>
        <td mat-cell *matCellDef="let element">
          <div class="rating-container">
            {{ element.validUntill }}
          </div>
        </td>
      </ng-container>

      <!-- actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <div class="buttons-container">
            <button
              class="mat-flat-button edit-btn"
              [routerLink]="'/home/new-user/' + element.id"
            >
              EDIT
            </button>
            <button
              mat-raised-button
              color="warn"
              (click)="openDeleteGuestDialog(element.id, element.name)"
            >
              DELETE
            </button>
          </div>
        </td>
      </ng-container>

      <!-- Row to show when the filter doesn't find anything -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          No data matching the filter "{{ searchInput.value }}"
        </td>
      </tr>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page"
    >
    </mat-paginator>
  </mat-card>
</div>
<!-- <input type="text" [(ngModel)]="voucherId" />
<button (click)="test()">useVoucher</button> -->
