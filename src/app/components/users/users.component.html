<div [ngStyle]="responsiveContainerPaddingPx(screenSize, 10, 10, 50, 70)">
  <mat-card class="mat-card table-card">
    <mat-card-title
      [ngStyle]="displayFlexOrBlock(screenSize, true, true, true, false)"
    >
      <div
        class="title"
        [ngStyle]="hideElementResponsivly(screenSize, false, true, true, true)"
      >
        Guests
        <span class="subtitle">({{ guestsToShow.length }})</span>
      </div>

      <!-- search bar -->

      <div
        class="search-bar"
        [ngStyle]="responsiveWidth(screenSize, 350, 350, 450, 550)"
      >
        <mat-form-field>
          <mat-label
            ><mat-icon class="search-icon">search</mat-icon>Search</mat-label
          >
          <input
            matInput
            placeholder="Guest Name"
            #searchInput
            (keyup)="applyFilter($event)"
          />
        </mat-form-field>
      </div>
      <div class="btn-container">
        <button class="mat-flat-button" routerLink="/home/new-user/new">
          CREATE NEW GUEST
        </button>
      </div>
    </mat-card-title>
    <table mat-table [dataSource]="guestsData" matSort>
      <!-- select Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <input type="checkbox" />
        </th>
        <td mat-cell *matCellDef="let element">
          <input type="checkbox" />
        </td>
      </ng-container>
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let element">
          <span class="title-td" (click)="nameClick(element.id)">{{
            element.name
          }}</span>
        </td>
      </ng-container>

      <!-- type Column -->
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
        <td mat-cell *matCellDef="let element">
          {{ element.type }}
        </td>
      </ng-container>

      <!-- Room Num Column -->
      <ng-container matColumnDef="roomNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Room</th>
        <td mat-cell *matCellDef="let element">
          {{ element.roomNumber }}
        </td>
      </ng-container>

      <!-- Vouchers Column -->
      <ng-container matColumnDef="vouchers">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vouchers</th>
        <td mat-cell *matCellDef="let element">
          {{ element.vouchersLis.length }}
        </td>
      </ng-container>

      <!-- valid untill Column -->
      <ng-container matColumnDef="validUntill">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Valid untill</th>
        <td mat-cell *matCellDef="let element">
          {{ element.validUntill.slice(0, 10) }}
        </td>
      </ng-container>

      <!-- created / Modified Column -->
      <ng-container matColumnDef="createdModified">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Created / Edited
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.createdDate.slice(0, 10) }}
        </td>
      </ng-container>

      <!-- actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <!-- <div class="buttons-container">
            <button
              class="mat-flat-button edit-btn"

            >
              EDIT
            </button>
            <button
              mat-raised-button
              color="warn"
              (click)="openDeleteGuestDialog(element.id, element.name)"
            >
              DELETE
            </button>
          </div> -->
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu" xPosition="before">
            <button mat-menu-item [routerLink]="'/home/new-user/' + element.id">
              <mat-icon>mode_edit</mat-icon> Edit
            </button>
            <button
              mat-menu-item
              (click)="openDeleteGuestDialog(element.id, element.name)"
            >
              <mat-icon color="warn">delete</mat-icon> Delete
            </button>
          </mat-menu>
        </td>
      </ng-container>

      <!-- Row to show when the filter doesn't find anything -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No guests to show</td>
      </tr>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[10, 20, 50]"
      showFirstLastButtons
      aria-label="Select page"
    >
    </mat-paginator>
  </mat-card>
</div>
<!-- <input type="text" [(ngModel)]="voucherId" />
<button (click)="test()">useVoucher</button> -->
